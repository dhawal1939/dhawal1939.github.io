<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dhawal Sirikonda | PRT for Arbitrary Geometries</title>
    <meta name="author" content="Dhawal  Sirikonda" />
    <meta name="description" content="How to store in transfer signals in implicit surfaces" />


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light" />

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>Ⓓ</text></svg>">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://dhawal1939.github.io/projects/sh_rendering/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/vs.css" media="none" id="highlight_theme_dark" />

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav sticky-bottom-footer">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://dhawal1939.github.io/">Dhawal Sirikonda</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">About</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item ">
                <a class="nav-link" href="/blog/">blog</a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">Publications</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">Research Projects</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/teaching/">Teaching</a>
              </li>

              <!-- Toogle theme mode -->
              <div class="toggle-container">
                <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </a>
              </div>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Content -->
    <div class="container mt-5">
      <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">PRT for Arbitrary Geometries</h1>
            <p class="post-description">How to store in transfer signals in implicit surfaces</p>
          </header>

          <article>
            <h3 id="contents">Contents</h3>
<p><a href="#uvtransfer">
Part 1 - Unnecessary tessellations
</a><br>
<a href="#learnttransfer">
Part 2 - Use Neural Transfer Approximator
</a></p>

<p>What to do in case of Implicit surfaces?
The work is presented in two parts:</p>
<ul>
  <li>
    <font size="2">Store Transfer in UV-space instead of Vertex attributes</font>
    <ul>
      <li>
<a href="https://diglib.eg.org/handle/10.2312/egp20221012" target="_blank" rel="noopener noreferrer"><font size="2">"Transfer Textures for Fast Precomputed Radiance Transfer - EuroGraphics'22 Poster"</font></a> -</li>
    </ul>
  </li>
  <li>
    <font size="2">Using Implicit Surfaces for Precomputed Radiance Transfer </font>
    <ul>
      <li><a href="https://www.highperformancegraphics.org/posters22/HPG2022_Poster7_Learnt_Transfer_for_Surface_Geometries.pdf" target="_blank" rel="noopener noreferrer"><font size="2">"Learnt Transfer for Surface Geometries - HPG'22 Poster</font></a></li>
      <li>
<a href="https://iiitaphyd-my.sharepoint.com/:b:/g/personal/dhawal_sirikonda_research_iiit_ac_in/EUKOrBzrxrxFsOhmYFLArFcBtWBpY2nfx_CziCUC-JHneg?e=MrdxAJ" target="_blank" rel="noopener noreferrer"><font size="2">"Real-time Rendering of Arbitrary Surface Geometries using Learnt Transfer"</font></a> - <a href="https://camps.aptaracorp.com/ACM_PMS/PMS/ACM/ICVGIP22/40/4850c344-6a88-11ed-a76e-16bb50361d1f/OUT/icvgip22-40.html" target="_blank" rel="noopener noreferrer"><font size="2">ICVGIP'22 (to appear in ACM-DL) DOI HTML link</font></a>
</li>
    </ul>
  </li>
</ul>

<div id="uvtransfer">
</div>
<h4 id="part-1---unnecessary-tessellations">Part 1 - Unnecessary tessellations</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The the naive approach of the using vertex attributes to store the transfer usually causes the following issues:
</code></pre></div></div>

<div class="row justify-content-sm-center">
    <div class="col-sm-2 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/high_tess-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/high_tess-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/high_tess-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/transfer_textures/tess/high_tess.png" title="Renders of Low Tess">

  </picture>

</figure>

        <!-- <caption font="1">Tessellations</caption> -->
    </div>
    <div class="col-sm-2 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/high_tess_res-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/high_tess_res-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/high_tess_res-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/transfer_textures/tess/high_tess_res.png" title="High Tess Vertex Attrib">

  </picture>

</figure>

        <!-- <caption>High-Tess VA Tess</caption> -->
    </div>
    <div class="col-sm-2 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess.png" title="Low Tess">

  </picture>

</figure>

        <!-- <caption>Tessellations</caption> -->
    </div>
    <div class="col-sm-2 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess_res-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess_res-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess_res-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess_res.png" title="Low Tess Vertex Attrib">

  </picture>

</figure>

        <!-- <caption>Low-tessellations Vextex Attrib</caption> -->
    </div>
    <div class="col-sm-2 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess_res_our-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess_res_our-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess_res_our-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/transfer_textures/tess/low_tess_res_our.png" title="Ours UV Mapped">

  </picture>

</figure>

        <!-- <caption>Ours</caption> -->
    </div>
</div>

<p>Earlier methods mostly concentrated on the using the high-tessellations <code class="language-plaintext highlighter-rouge">[PRT Sloan et al. 2002]</code> else it causes artefacts like one show in the results in 2nd left. Use of the UV-mapped space to store the Transfer is more appropriate option. In case of the Glossy surfaces it requires a storage of the a matrix which increases memory requirement. But we used Triple product formulations to allevate the problem and stored a vector instead of matrix as now we can store the vectors in the UV-mapped texture.</p>

<p>We also incorporated the secondary bounce information in the setting:</p>

<div class="row justify-content-sm-center">
    <div class="col-sm-7 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/interreflection_method-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/interreflection_method-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/interreflection_method-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/transfer_textures/interreflection_method.png" title="Method">

  </picture>

</figure>

    </div>
     <div class="col-sm-5 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/interreflection-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/interreflection-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/interreflection-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/transfer_textures/interreflection.png" title="Inter-reflection">

  </picture>

</figure>

    </div>
    <caption>(a) Method of calculating secondary irradiance, (b) Results of Interreflections</caption>
</div>

<p>But this suffer from the problem of <em>accurate UV Mapped Texturing requirement</em>, else you see the results as show below:
We have used the multiple textures for each sub-geometry and it occupies same memory</p>

<div class="row justify-content-sm-center">
    <div class="col-sm-8 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/texture_sets-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/texture_sets-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/transfer_textures/texture_sets-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/transfer_textures/texture_sets.png" title="Method">

  </picture>

</figure>

        <center><caption>Results of Texture-sets</caption></center>
    </div>
</div>

<p>Here are some results</p>
<div>
    <video controls="" autoplay="" width="320" height="180">
        <source src="https://raw.githubusercontent.com/dhawal1939/dhawal1939.github.io/master/.github/videos/sh_rendering/transfer_textures/results_transfer_textures.webm" type="video/webm"></source>
    </video>
    <video controls="" autoplay="" width="320" height="180">
        <source src="https://raw.githubusercontent.com/dhawal1939/dhawal1939.github.io/master/.github/videos/sh_rendering/transfer_textures/interreflection.webm" type="video/webm"></source>
    </video>
    <br>
    <caption>(left) Results of Transfer Textures, (right) Results of Interreflections</caption>
</div>

<div id="learnttransfer">
    <h5><i>Still requires a good UV preserving mapping.</i></h5>
</div>
<h4 id="part-2---use-neural-transfer-approximator">Part 2 - Use Neural Transfer Approximator</h4>

<p><em>Implicit surfaces do not have any UV locations</em>
As the surface representation does not have a storage schema, how can we store transfer values?</p>

<ul>
  <li>It does not have a Vertex Position</li>
  <li>It does not have UV mapping</li>
</ul>

<p>What we do then?</p>

<p>1) Sample points, calculate the visibility.</p>

<div class="row justify-content-sm-center">
    <div class="col-sm-8 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/data_creation-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/data_creation-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/data_creation-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/learnt_transfer/data_creation.png" title="Method">

  </picture>

</figure>

        <center><caption>Data Creation</caption></center>
    </div>
</div>

<p>2) Fit a small shallow MLP which can regress a transfer from the surface parameters? (normal and position)</p>

<div class="row justify-content-sm-center">
    <div class="col-sm-8 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/mlp_fit-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/mlp_fit-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/mlp_fit-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/learnt_transfer/mlp_fit.png" title="MLP FIT">

  </picture>

</figure>

        <center><caption>MLP Fit</caption></center>
    </div>
</div>

<p>3) Once fit extract weights into mat4 ops rather than serial for loops</p>

<p>4) Extract the MLP weights into GLSL for a forward evaluation</p>
<div class="row justify-content-sm-center">
    <div class="col-sm-8 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/glsl-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/glsl-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/glsl-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/learnt_transfer/glsl.png" title="GLSL">

  </picture>

</figure>

        <center><caption> GLSL Implementation</caption></center>
    </div>
</div>

<p>5) In case network is big CUDA based implementation helps. Refer to the paper for more info</p>

<div class="row justify-content-sm-center">
    <div class="col-sm-8 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/cuda-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/cuda-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/cuda-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/learnt_transfer/cuda.png" title="CUDA">

  </picture>

</figure>

        <center><caption> CUDA Implementation</caption></center>
    </div>
</div>

<p>6) Large scence</p>

<div class="row justify-content-sm-center">
    <div class="col-sm-8 mt-3 mt-md-0">
        <figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/large_scene-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/large_scene-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/projects/sh_rendering/learnt_transfer/large_scene-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/projects/sh_rendering/learnt_transfer/large_scene.png" title="CUDA">

  </picture>

</figure>

        <center><caption> Large Scenes</caption></center>
    </div>
</div>

<center>
<video controls="" autoplay="" width="480" height="270">
    <source src="https://raw.githubusercontent.com/dhawal1939/dhawal1939.github.io/master/.github/videos/sh_rendering/learnt_transfer/results_learnt_transfer.webm" type="video/webm"></source>
</video>
</center>

          </article>

        </div>

    </div>

    <!-- Footer -->    <footer class="sticky-bottom mt-5">
      <div class="container">
        © Copyright 2023 Dhawal  Sirikonda. 
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="/assets/js/common.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
  </body>
</html>

